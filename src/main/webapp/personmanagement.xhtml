<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui">
    <h:panelGrid columns="2" cellpadding="5">
        <h:outputText id="tab1Text" value="Willkommen bei der Personenverwaltung"/>
        <h:messages/>
        <p:layout style="min-width:1300px;min-height:400px;">
            <p:layoutUnit position="west" resizable="true" size="1000" minSize="40">
                <f:view>
                    <h:form>
                        <p:dataTable value="#{personController.personList}" var="item">
                            <p:column>
                                <f:facet name="header">
                                    <h:outputText value="ID"/>
                                </f:facet>
                                <h:outputText value="#{item.personID}"/>
                            </p:column>
                            <p:column>
                                <f:facet name="header">
                                    <h:outputText value="Prename"/>
                                </f:facet>
                                <h:outputText value="#{item.prename}"/>
                            </p:column>
                            <p:column>
                                <f:facet name="header">
                                    <h:outputText value="Surname"/>
                                </f:facet>
                                <h:outputText value="#{item.surname}"/>
                            </p:column>
                            <p:column>
                                <f:facet name="header">
                                    <h:outputText value="Address"/>
                                </f:facet>
                                <h:outputText value="#{item.address}"/>
                            </p:column>
                            <p:column>
                                <f:facet name="header">
                                    <h:outputText value="Mail"/>
                                </f:facet>
                                <h:outputText value="#{item.mail}"/>
                            </p:column>
                            <p:column>
                                <f:facet name="header">
                                    <h:outputText value="Phone"/>
                                </f:facet>
                                <h:outputText value="#{item.phone}"/>
                            </p:column>
                            <p:column>
                                <f:facet name="header">
                                    <h:outputText value=""/>
                                </f:facet>
                                <h:commandButton 
                                    value="LÃ¶schen"
                                    action="#{personController.doDeletePerson(item.personID)}">
                                </h:commandButton>
                                <br/>
                                <br/>
                                <p:commandButton 
                                    value="Bearbeiten"

                                    onclick="#{personController.setselectedPerson(item.personID)};
                                                                    PF('dlg3').show();">
                                </p:commandButton>
                                <p:dialog header="Effects" widgetVar="dlg3" height="300" width="350">
                                    <h:form prependId="false">

                                        Vorname:
                                        <p:inputText id="prename"
                                                     value="#{personController.person.prename}" 
                                                     required="true" 
                                                     requiredMessage="Du musst einen Vornamen eingeben" />
                                        <p:message for="prename"/>
                                        <br/>
                                        Nachname:
                                        <p:inputText id="surname" 
                                                     value="#{personController.person.surname}" 
                                                     required="true" 
                                                     requiredMessage="Du musst einen Nachnamen eingeben" />
                                        <p:message for="surname"/>
                                        <br/>
                                        Adresse:
                                        <p:inputText id="address" 
                                                     value="#{personController.person.address}" 
                                                     required="true" 
                                                     requiredMessage="Du musst eine Strasse eingeben" />
                                        <p:message for="address"/>
                                        <br/>
                                        E-Mail:
                                        <p:inputText id="email" 
                                                     value="#{personController.person.mail}" 
                                                     required="true" 
                                                     requiredMessage="Du musst eine E-Mail eingeben" />
                                        <p:message for="email"/>
                                        <br/>
                                        Telefonnummer:
                                        <p:inputText id="phone" 
                                                     value="#{personController.person.phone}" 
                                                     required="true" 
                                                     requiredMessage="Du musst ein Telefonnummer eingeben" />
                                        <p:message for="phone"/>

                                        <br/>
                                        <br/>
                                        <p:commandButton 
                                            value="Speichern" 
                                            action="#{personController.doUpdatePerson()}"/>

                                    </h:form>
                                </p:dialog>
                            </p:column>
                        </p:dataTable>
                    </h:form>
                </f:view>

            </p:layoutUnit>

            <p:layoutUnit position="center" resizable="true" size="400">
                <h:form prependId="false">

                    Vorname:
                    <h:inputText id="prename" 
                                 value="#{personController.person.prename}" 
                                 required="true" 
                                 requiredMessage="Du musst einen Vornamen eingeben" />
                    <h:message for="prename"/>
                    <br/>
                    Nachname:
                    <h:inputText id="surname" 
                                 value="#{personController.person.surname}" 
                                 required="true" 
                                 requiredMessage="Du musst einen Nachnamen eingeben" />
                    <h:message for="surname"/>
                    <br/>
                    Adresse:
                    <h:inputText id="address" 
                                 value="#{personController.person.address}" 
                                 required="true" 
                                 requiredMessage="Du musst eine Strasse eingeben" />
                    <h:message for="address"/>
                    <br/>
                    E-Mail:
                    <h:inputText id="email" 
                                 value="#{personController.person.mail}" 
                                 required="true" 
                                 requiredMessage="Du musst eine E-Mail eingeben" />
                    <h:message for="email"/>
                    <br/>
                    Telefonnummer:
                    <h:inputText id="phone" 
                                 value="#{personController.person.phone}" 
                                 required="true" 
                                 requiredMessage="Du musst ein Telefonnummer eingeben" />
                    <h:message for="phone"/>

                    <br/>
                    <br/>
                    <h:commandButton 
                        value="Speichern" 
                        action="#{personController.doCreatePerson()}"/>

                </h:form>
            </p:layoutUnit>
        </p:layout>

    </h:panelGrid>
</ui:composition>